# Generated with https://github.com/sharkdp/vivid (snazzy theme)
LS_COLORS='*~=0;38;2;102;102;102:pi=0;38;2;0;0;0;48;2;87;199;255:mi=0;38;2;0;0;0;48;2;255;92;87:no=0:fi=0:ex=1;38;2;255;92;87:or=0;38;2;0;0;0;48;2;255;92;87:so=0;38;2;0;0;0;48;2;255;106;193:di=0;38;2;87;199;255:ln=0;38;2;255;106;193:*.z=4;38;2;154;237;254:*.c=0;38;2;90;247;142:*.r=0;38;2;90;247;142:*.t=0;38;2;90;247;142:*.o=0;38;2;102;102;102:*.h=0;38;2;90;247;142:*.p=0;38;2;90;247;142:*.m=0;38;2;90;247;142:*.d=0;38;2;90;247;142:*.a=1;38;2;255;92;87:*.di=0;38;2;90;247;142:*.la=0;38;2;102;102;102:*.sh=0;38;2;90;247;142:*.rs=0;38;2;90;247;142:*.vb=0;38;2;90;247;142:*css=0;38;2;90;247;142:*.pm=0;38;2;90;247;142:*.js=0;38;2;90;247;142:*.nb=0;38;2;90;247;142:*.kt=0;38;2;90;247;142:*.pp=0;38;2;90;247;142:*.ps=0;38;2;255;92;87:*.so=1;38;2;255;92;87:*.cc=0;38;2;90;247;142:*.xz=4;38;2;154;237;254:*.ml=0;38;2;90;247;142:*.cp=0;38;2;90;247;142:*.mn=0;38;2;90;247;142:*.gz=4;38;2;154;237;254:*.md=0;38;2;243;249;157:*.go=0;38;2;90;247;142:*.hh=0;38;2;90;247;142:*.gv=0;38;2;90;247;142:*.ui=0;38;2;243;249;157:*.rb=0;38;2;90;247;142:*.py=0;38;2;90;247;142:*.cs=0;38;2;90;247;142:*.rm=0;38;2;255;180;223:*.pl=0;38;2;90;247;142:*.cr=0;38;2;90;247;142:*.ex=0;38;2;90;247;142:*.ko=1;38;2;255;92;87:*.fs=0;38;2;90;247;142:*.lo=0;38;2;102;102;102:*.jl=0;38;2;90;247;142:*.hs=0;38;2;90;247;142:*.ts=0;38;2;90;247;142:*.7z=4;38;2;154;237;254:*.as=0;38;2;90;247;142:*.hi=0;38;2;102;102;102:*.bz=4;38;2;154;237;254:*.el=0;38;2;90;247;142:*.jar=4;38;2;154;237;254:*.avi=0;38;2;255;180;223:*.ps1=0;38;2;90;247;142:*.pro=0;38;2;165;255;195:*.bbl=0;38;2;102;102;102:*.exs=0;38;2;90;247;142:*.htc=0;38;2;90;247;142:*.dpr=0;38;2;90;247;142:*.mov=0;38;2;255;180;223:*.nix=0;38;2;243;249;157:*.ics=0;38;2;255;92;87:*.wav=0;38;2;255;180;223:*.bcf=0;38;2;102;102;102:*.pid=0;38;2;102;102;102:*.sxw=0;38;2;255;92;87:*.txt=0;38;2;243;249;157:*.dot=0;38;2;90;247;142:*.cgi=0;38;2;90;247;142:*.tgz=4;38;2;154;237;254:*.rst=0;38;2;243;249;157:*.otf=0;38;2;255;180;223:*.m4v=0;38;2;255;180;223:*.pas=0;38;2;90;247;142:*.odp=0;38;2;255;92;87:*.bat=1;38;2;255;92;87:*.csv=0;38;2;243;249;157:*.sty=0;38;2;102;102;102:*.ods=0;38;2;255;92;87:*.bib=0;38;2;243;249;157:*.apk=4;38;2;154;237;254:*.ind=0;38;2;102;102;102:*.fnt=0;38;2;255;180;223:*.mp4=0;38;2;255;180;223:*.fsx=0;38;2;90;247;142:*.ttf=0;38;2;255;180;223:*.swf=0;38;2;255;180;223:*.sxi=0;38;2;255;92;87:*.awk=0;38;2;90;247;142:*.png=0;38;2;255;180;223:*.yml=0;38;2;243;249;157:*.git=0;38;2;102;102;102:*.jpg=0;38;2;255;180;223:*.ltx=0;38;2;90;247;142:*.fls=0;38;2;102;102;102:*.xlr=0;38;2;255;92;87:*.mpg=0;38;2;255;180;223:*.toc=0;38;2;102;102;102:*.cpp=0;38;2;90;247;142:*.ipp=0;38;2;90;247;142:*.erl=0;38;2;90;247;142:*.ilg=0;38;2;102;102;102:*.iso=4;38;2;154;237;254:*.fsi=0;38;2;90;247;142:*.arj=4;38;2;154;237;254:*.vim=0;38;2;90;247;142:*.flv=0;38;2;255;180;223:*hgrc=0;38;2;165;255;195:*.log=0;38;2;102;102;102:*.xls=0;38;2;255;92;87:*.hxx=0;38;2;90;247;142:*.svg=0;38;2;255;180;223:*.mid=0;38;2;255;180;223:*.cxx=0;38;2;90;247;142:*.htm=0;38;2;243;249;157:*.xmp=0;38;2;243;249;157:*.aif=0;38;2;255;180;223:*.cfg=0;38;2;243;249;157:*.clj=0;38;2;90;247;142:*.exe=1;38;2;255;92;87:*.odt=0;38;2;255;92;87:*.gif=0;38;2;255;180;223:*.pyc=0;38;2;102;102;102:*.tbz=4;38;2;154;237;254:*.vob=0;38;2;255;180;223:*.xcf=0;38;2;255;180;223:*.csx=0;38;2;90;247;142:*.tsx=0;38;2;90;247;142:*.pbm=0;38;2;255;180;223:*.blg=0;38;2;102;102;102:*.mli=0;38;2;90;247;142:*.tif=0;38;2;255;180;223:*.com=1;38;2;255;92;87:*.ppt=0;38;2;255;92;87:*.pgm=0;38;2;255;180;223:*.pkg=4;38;2;154;237;254:*.xml=0;38;2;243;249;157:*.tml=0;38;2;243;249;157:*.tex=0;38;2;90;247;142:*.mp3=0;38;2;255;180;223:*.tcl=0;38;2;90;247;142:*.elm=0;38;2;90;247;142:*.zsh=0;38;2;90;247;142:*.fon=0;38;2;255;180;223:*.ico=0;38;2;255;180;223:*.idx=0;38;2;102;102;102:*.rpm=4;38;2;154;237;254:*.pps=0;38;2;255;92;87:*.kex=0;38;2;255;92;87:*.img=4;38;2;154;237;254:*.epp=0;38;2;90;247;142:*.zip=4;38;2;154;237;254:*.sbt=0;38;2;90;247;142:*.pod=0;38;2;90;247;142:*.mkv=0;38;2;255;180;223:*.aux=0;38;2;102;102;102:*.deb=4;38;2;154;237;254:*.php=0;38;2;90;247;142:*.rtf=0;38;2;255;92;87:*.sql=0;38;2;90;247;142:*.tmp=0;38;2;102;102;102:*.dll=1;38;2;255;92;87:*.wma=0;38;2;255;180;223:*TODO=1:*.dox=0;38;2;165;255;195:*.doc=0;38;2;255;92;87:*.out=0;38;2;102;102;102:*.bz2=4;38;2;154;237;254:*.ogg=0;38;2;255;180;223:*.asa=0;38;2;90;247;142:*.gvy=0;38;2;90;247;142:*.bak=0;38;2;102;102;102:*.inl=0;38;2;90;247;142:*.tar=4;38;2;154;237;254:*.bsh=0;38;2;90;247;142:*.rar=4;38;2;154;237;254:*.lua=0;38;2;90;247;142:*.bmp=0;38;2;255;180;223:*.bag=4;38;2;154;237;254:*.wmv=0;38;2;255;180;223:*.pdf=0;38;2;255;92;87:*.ini=0;38;2;243;249;157:*.bin=4;38;2;154;237;254:*.vcd=4;38;2;154;237;254:*.h++=0;38;2;90;247;142:*.swp=0;38;2;102;102;102:*.c++=0;38;2;90;247;142:*.kts=0;38;2;90;247;142:*.hpp=0;38;2;90;247;142:*.ppm=0;38;2;255;180;223:*.dmg=4;38;2;154;237;254:*.bst=0;38;2;243;249;157:*.bash=0;38;2;90;247;142:*.toml=0;38;2;243;249;157:*.pptx=0;38;2;255;92;87:*.java=0;38;2;90;247;142:*.epub=0;38;2;255;92;87:*.h264=0;38;2;255;180;223:*.psd1=0;38;2;90;247;142:*.tbz2=4;38;2;154;237;254:*.jpeg=0;38;2;255;180;223:*.hgrc=0;38;2;165;255;195:*.json=0;38;2;243;249;157:*.less=0;38;2;90;247;142:*.flac=0;38;2;255;180;223:*.docx=0;38;2;255;92;87:*.diff=0;38;2;90;247;142:*.psm1=0;38;2;90;247;142:*.yaml=0;38;2;243;249;157:*.rlib=0;38;2;102;102;102:*.lisp=0;38;2;90;247;142:*.fish=0;38;2;90;247;142:*.conf=0;38;2;243;249;157:*.dart=0;38;2;90;247;142:*.mpeg=0;38;2;255;180;223:*.html=0;38;2;243;249;157:*.orig=0;38;2;102;102;102:*.xlsx=0;38;2;255;92;87:*.make=0;38;2;165;255;195:*.lock=0;38;2;102;102;102:*.purs=0;38;2;90;247;142:*.cabal=0;38;2;90;247;142:*passwd=0;38;2;243;249;157:*.swift=0;38;2;90;247;142:*.toast=4;38;2;154;237;254:*.ipynb=0;38;2;90;247;142:*.shtml=0;38;2;243;249;157:*.patch=0;38;2;90;247;142:*.class=0;38;2;102;102;102:*.dyn_o=0;38;2;102;102;102:*.xhtml=0;38;2;243;249;157:*.mdown=0;38;2;243;249;157:*.scala=0;38;2;90;247;142:*.cmake=0;38;2;165;255;195:*README=0;38;2;40;42;54;48;2;243;249;157:*shadow=0;38;2;243;249;157:*.cache=0;38;2;102;102;102:*.groovy=0;38;2;90;247;142:*.ignore=0;38;2;165;255;195:*.flake8=0;38;2;165;255;195:*LICENSE=0;38;2;153;153;153:*.dyn_hi=0;38;2;102;102;102:*TODO.md=1:*.matlab=0;38;2;90;247;142:*INSTALL=0;38;2;40;42;54;48;2;243;249;157:*.gradle=0;38;2;90;247;142:*COPYING=0;38;2;153;153;153:*.config=0;38;2;243;249;157:*.desktop=0;38;2;243;249;157:*.gemspec=0;38;2;165;255;195:*TODO.txt=1:*setup.py=0;38;2;165;255;195:*Doxyfile=0;38;2;165;255;195:*Makefile=0;38;2;165;255;195:*configure=0;38;2;165;255;195:*COPYRIGHT=0;38;2;153;153;153:*.rgignore=0;38;2;165;255;195:*README.md=0;38;2;40;42;54;48;2;243;249;157:*.cmake.in=0;38;2;165;255;195:*.markdown=0;38;2;243;249;157:*.fdignore=0;38;2;165;255;195:*.kdevelop=0;38;2;165;255;195:*SConscript=0;38;2;165;255;195:*.gitignore=0;38;2;165;255;195:*SConstruct=0;38;2;165;255;195:*INSTALL.md=0;38;2;40;42;54;48;2;243;249;157:*README.txt=0;38;2;40;42;54;48;2;243;249;157:*CODEOWNERS=0;38;2;165;255;195:*.scons_opt=0;38;2;102;102;102:*Dockerfile=0;38;2;243;249;157:*.gitconfig=0;38;2;165;255;195:*Makefile.am=0;38;2;165;255;195:*.travis.yml=0;38;2;90;247;142:*MANIFEST.in=0;38;2;165;255;195:*Makefile.in=0;38;2;102;102;102:*.synctex.gz=0;38;2;102;102;102:*.gitmodules=0;38;2;165;255;195:*LICENSE-MIT=0;38;2;153;153;153:*.applescript=0;38;2;90;247;142:*appveyor.yml=0;38;2;90;247;142:*configure.ac=0;38;2;165;255;195:*.fdb_latexmk=0;38;2;102;102;102:*CONTRIBUTORS=0;38;2;40;42;54;48;2;243;249;157:*.clang-format=0;38;2;165;255;195:*INSTALL.md.txt=0;38;2;40;42;54;48;2;243;249;157:*.gitattributes=0;38;2;165;255;195:*LICENSE-APACHE=0;38;2;153;153;153:*CMakeLists.txt=0;38;2;165;255;195:*CMakeCache.txt=0;38;2;102;102;102:*CONTRIBUTORS.md=0;38;2;40;42;54;48;2;243;249;157:*.sconsign.dblite=0;38;2;102;102;102:*requirements.txt=0;38;2;165;255;195:*CONTRIBUTORS.txt=0;38;2;40;42;54;48;2;243;249;157:*package-lock.json=0;38;2;102;102;102';
export LS_COLORS

if grep -q Microsoft /proc/version; then
    # Use Windows Docker on WSL
    export DOCKER_HOST=tcp://localhost:2375
fi

prm_dir="$HOME/dev/prm"
if [ -d $prm_dir ]; then
    alias prm=". ${prm_dir}/prm.sh"
fi

if [ -f $HOME/.cargo/env ]; then
    source $HOME/.cargo/env
fi

if [ ! -d $HOME/.zsh/gradle-completion ]; then
    git clone git://github.com/gradle/gradle-completion $HOME/.zsh/gradle-completion
fi

fpath=($HOME/.zfunc $HOME/.zsh/gradle-completion /usr/local/share/zsh-completions $fpath)

export PATH=$HOME/.local/bin:/usr/local/sbin/:$PATH

antigen_dir=$HOME/.antigen-git
if [ ! -d $antigen_dir ];then
    git clone https://github.com/zsh-users/antigen.git $antigen_dir
fi

source $antigen_dir/antigen.zsh

antigen use oh-my-zsh

if [ -f "/etc/arch-release"  ]; then
    antigen bundle archlinux
fi
antigen bundle aws
antigen bundle branch
antigen bundle docker
antigen bundle docker-compose
antigen bundle git
antigen bundle redis-cli
antigen bundle ssh-agent
antigen bundle systemd
antigen bundle tmux
antigen bundle zsh_reload
antigen bundle osx

if [ "$OSTYPE" != "cygwin" ];then
    # This runs awefully slow on Cygwin
    antigen bundle zsh-users/zsh-autosuggestions
fi
antigen bundle zsh-users/zsh-completions
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-history-substring-search

# Overrides the regular function from the theme to prevent calling
# 'git status --porcelain' which is super slow on big repos
function mnml_git_light {
    local statc="%{\e[0;3${MNML_OK_COLOR}m%}" # assume clean
    local bname="$(git rev-parse --abbrev-ref HEAD 2> /dev/null)"

    if [ -n "$bname" ]; then
        printf '%b' "$statc$bname%{\e[0m%}"
    fi
}

antigen theme subnixr/minimal minimal
MNML_RPROMPT=('mnml_cwd 2 0' mnml_git_light)

# https://github.com/wting/autojump/issues/474
unsetopt BG_NICE

antigen bundle jamesob/desk shell_plugins/zsh

antigen apply

# Set zsh-users/zsh-autosuggestions suggestion color
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=244'

# Keybindings for "zsh-history-substring-search" plugin
bindkey '\eOA' history-substring-search-up
bindkey '\eOB' history-substring-search-down

zstyle :omz:plugins:ssh-agent agent-forwarding on
zstyle :omz:plugins:ssh-agent lifetime 4h

export EDITOR='vim'

alias zshconfig="$EDITOR ~/.zshrc"
alias ga="git add"
alias gc="git commit"
alias gd="git diff"
alias gl="git log"
alias gs="git st"
alias myip="dig +short myip.opendns.com @resolver1.opendns.com"
alias ssh-genkey="ssh-keygen -o -a 100 -t ed25519"
alias :q="exit"
alias :Q="exit"
if type "thefuck" > /dev/null; then
    eval $(thefuck --alias)
fi

compdef gw='gradle'

# Hook for desk activation
[ -n "$DESK_ENV" ] && source "$DESK_ENV" || true

# Terminix initilization stuff
if [[ $TERMINIX_ID ]] && [[ -f /etc/profile.d/vte.sh ]]; then
    source /etc/profile.d/vte.sh
fi

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
